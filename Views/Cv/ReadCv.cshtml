@model CVBuddy.Models.CVInfo.Cv

@if (!ViewBag.NotLoggedInUsersCv)
{
    <a asp-controller="Cv" asp-action="DeleteCv" asp-route-Cid="@Model.Cid">DELETE</a>
}

<a asp-controller="Home" asp-action="Index">Back to Home</a>
<a asp-controller="Home" asp-action="Index">Message this Person</a>

<h1 class="mb-4">@ViewBag.Headline - @Model.OneUser.UserName</h1>

<div class="mb-4">
    <h2>@ViewBag.HeadlineExperiences</h2>

    @foreach (var experience in Model.Experiences)
    {
        <div class="mb-2" style="padding: 10px 20px; margin: 0 20px; border: 2px solid black; border-radius: 2em; background-color: #7abfeb;">
            <p class="mb-0">Title: @experience.Title</p>
            <p class="mb-0">Company: @experience.Company</p>
            <p class="mb-0">Description: @experience.Description</p>
            <p class="mb-0">@experience.StartDate.ToShortDateString() <b>-</b> @(experience.EndDate?.ToShortDateString() ?? "Ongoing")</p>
        </div>
    }
</div>

<div class="mb-4">
    <h2>@ViewBag.HeadlineEducation</h2>
    @if (Model.Education.HighSchool != null)
    {
        <div class="mb-2" style="padding: 10px 20px; margin: 0 20px; border: 2px solid black; border-radius: 2em; background-color: #7abfeb;">
            <h5>High School</h5>
            <p class="mb-0">High School: @(Model.Education.HighSchool ?? "")</p>
            <p class="mb-0">Program: @(Model.Education.HSProgram ?? "")</p>
            <p class="mb-0">Date: @(Model.Education.HSDate ?? "")</p>
        </div>
    }
    @if (Model.Education.Univeristy != null)
    {
        <div class="mb-2" style="padding: 10px 20px; margin: 0 20px; border: 2px solid black; border-radius: 2em; background-color: #7abfeb;">
            <h5>University</h5>
            <p class="mb-0">University: @(Model.Education.Univeristy ?? "")</p>
            <p class="mb-0">Program: @(Model.Education.UniProgram ?? "")</p>
            <p class="mb-0">Date: @(Model.Education.UniDate ?? "")</p>
        </div>
    }
    
</div>
<div class="mb-4">
    <h2>@ViewBag.HeadlineSkill</h2>
    <div style="display: flex; justify-content: flex-start;">
        @foreach (var skill in Model.Skills)
        {
            <div class="mb-2" style="padding: 10px 20px; margin: 0 20px; border: 2px solid black; border-radius: 2em; background-color: #7abfeb;">
                <p class="mb-0">Skill: @skill.ASkill</p>
                <p class="mb-0">Description of skill: @(skill.Description ?? "")</p>
                <p class="mb-0">Skill since: @(skill.Date?.ToShortDateString() ?? "Unspecified")</p>
            </div>
        }
    </div>
    
</div>
<div class="mb-4">
    <h2>@ViewBag.HeadlineCertificates</h2>
    <h5>My certificates</h5>
    <div style="display: flex; justify-content: flex-start;">
        @foreach (var certificate in Model.Certificates)
        {
            <div class="mb-2" style="padding: 10px 20px; margin: 0 20px; border: 2px solid black; border-radius: 2em; background-color: #7abfeb;">
                <p class="mb-0">Certificate: @certificate.CertName</p>
            </div>
        }
    </div>
    
</div>

<div class="mb-4"">
    <h2>@ViewBag.HeadlinePersonalCharacteristics</h2>
    <h5>My personal characteristics</h5>
    <div style="display: flex; justify-content: flex-start;">
        @foreach (var personalCharacteristics in Model.PersonalCharacteristics)
        {
            <div class="mb-2" style="padding: 10px 20px; margin: 0 20px; border: 2px solid black; border-radius: 2em; background-color: #7abfeb;">
                <p class="mb-0">@personalCharacteristics.CharacteristicName</p>
            </div>
        }
    </div>

</div>

<div class="mb-4">
    <h2>@ViewBag.HeadlineInterest</h2>
    <h5>These are my interests</h5>
    <div style="display: flex; justify-content: flex-start;">
        @foreach (var interest in Model.Interests)
        {
            <div class="mb-2" style="padding: 10px 20px; margin: 0 20px; border: 2px solid black; border-radius: 2em; background-color: #7abfeb;">
                <p class="mb-0">@interest.InterestName</p>
            </div>
        }
    </div>
</div>

<div class="mb-4">
    <h2>@ViewBag.HeadlineProjects</h2>
    <h5>I have participated in these projects</h5>
    <div style="display: flex; justify-content: flex-start;">
        @foreach (var cvProject in Model.CvProjects)
        {
            <div class="mb-0" style="padding: 10px 20px; margin: 0 20px; border: 2px solid black; border-radius: 2em; background-color: #7abfeb;">
                <p class="mb-0">Title: @cvProject.OneProject.Title</p>
                <p class="mb-0">Description: @(cvProject.OneProject.Description ?? "Not described")</p>
                <p class="mb-0">Date: @cvProject.OneProject.StartDate.ToShortDateString() <b>-</b> @(cvProject.OneProject.Enddate?.ToShortDateString() ?? "Ongoing")</p>
                <p class="mb-0">Participants:
                    @foreach(var participant in cvProject.OneProject.UsersInProject)
                    {
                        <div class="mb-2" style="padding: 10px 20px; margin: 0 20px; border: 2px solid #38294f; border-radius: 2em; background-color: #af7cfc;">
                            <p class="mb-0'">@participant.UserName</p>
                        </div>
                    }
                </p>
                <p class="mb-0">Participant count: @cvProject.OneProject.UsersInProject.Count</p>
                
            </div>
        }
    </div>
</div>

